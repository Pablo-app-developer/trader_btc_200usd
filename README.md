# BOT_ML_ANTIGRAVITY

## üìà Overview
A multi‚Äëasset reinforcement‚Äëlearning trading bot built with **Stable‚ÄëBaselines3 PPO**.  It supports Bitcoin (BTC), Solana (SOL) and Ethereum (ETH) with asset‚Äëspecific environment parameters and risk‚Äëmanagement filters (EMA‚Äë200 wall, trailing‚Äëstop, cooldown, EMA/volatility penalties).

## üöÄ Features
- **Modular asset configuration** ‚Äì `train_production.py` automatically selects hyper‚Äëparameters and environment settings per asset.
- **Institutional‚Äëgrade risk controls** ‚Äì EMA‚Äë200 trend filter, stop‚Äëloss, trailing‚Äëstop, risk‚Äëaversion, EMA/volatility penalties.
- **Hyper‚Äëparameter optimization** ‚Äì Optuna‚Äëderived ‚ÄúDiamond‚Äù hyper‚Äëparameters stored in `best_hyperparams_*.json`.
- **Comprehensive reporting** ‚Äì `generate_report.py` produces `ESTADO_DE_LAS_PRUEBAS.md` with performance tables and equity‚Äëcurve images.
- **Versioned evolution** ‚Äì `HISTORIAL_DE_FASES.md` documents every strategic phase.

## üì¶ Installation
```bash
# Clone the repo
git clone https://github.com/Pablo-app-developer/BOT_ML_ANTIGRAVITY.git
cd BOT_ML_ANTIGRAVITY

# Create a virtual environment (recommended)
python -m venv .venv
source .venv/Scripts/activate  # Windows
# or: source .venv/bin/activate  # Linux/macOS

# Install dependencies
pip install -r requirements.txt
```
> **Note:** The repository contains a `.gitignore` that excludes large model files and any credential files.

## üõ†Ô∏è Usage
### 1Ô∏è‚É£ Train a model for an asset
```bash
python -u train_production.py btc   # Bitcoin (default)
python -u train_production.py sol   # Solana ‚Äì Elite Hybrid
python -u train_production.py eth   # Ethereum ‚Äì Elite Rescue
```
The script will:
1. Load the CSV data (`datos_<asset>_15m_binance.csv`).
2. Apply the asset‚Äëspecific `env_params`.
3. Load the best base model if available.
4. Train for the configured `prod_steps` (150‚ÄØk steps for SOL/ETH, 150‚ÄØk for BTC).
5. Save the final model under `models/PRODUCTION/<ASSET>/`.

### 2Ô∏è‚É£ Backtest a trained model
```bash
python backtest.py BTC models/PRODUCTION/BTC/ppo_btc_final.zip backtest_btc_gold.png
python backtest.py SOL models/PRODUCTION/SOL/ppo_sol_final.zip backtest_sol_elite.png
python backtest.py ETH models/PRODUCTION/ETH/ppo_eth_final.zip backtest_eth_elite.png
```
### 3Ô∏è‚É£ Generate the summary report
```bash
python generate_report.py
```
The report (`ESTADO_DE_LAS_PRUEBAS.md`) includes a performance table, Sharpe ratios, drawdowns and equity‚Äëcurve images.

## üìä Current Results (Jan‚ÄØ2026)
| Asset | Return | Sharpe | Max Drawdown | Trades | Final Balance |
|------|--------|--------|--------------|--------|---------------|
| **BTC** | **+3.11%** | **2.47** | **0.47%** | 212 | $10,310.51 |
| **SOL** | **+8.37%** | **1.06** | **3.68%** | 202 | $10,837.02 |
| **ETH** | **+1.33%** | **0.89** | **0.88%** | 162 | $10,132.88 |

## üßπ Clean‚Äëup & Security
- All credential files (`.env`, `secrets.json`, etc.) are ignored via `.gitignore`.
- Large model checkpoints are also ignored; only the lightweight `best_hyperparams_*.json` files are versioned.

## üìú License
This project is released under the **MIT License**. See `LICENSE` for details.

---
*Generated by Antigravity Agent ‚Äì your AI‚Äëpowered development partner.*
